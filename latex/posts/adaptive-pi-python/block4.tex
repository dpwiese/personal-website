\documentclass[convert={density=800,size=1800x1800,outext=.png}]{standalone} % chktex 29

\input{preamble}

\begin{document}
  \begin{tikzpicture}[auto, scale=0.9, every node/.style={transform shape}, node distance=1.0cm, >=latex']
    \node[input](input1){};
    \node[squareblock, right of=input1,label=above:{},node distance=2.5cm] (block1){$W_{cl}^{-1}(s)$};
    \node[whitesum, right of=block1,node distance=2.5cm](sum1){} ;
    \node[squareblock, right of=sum1,label=above:{},node distance=2.5cm] (block2){$G_{c}(s)$};
    \node[whitesum, right of=block2,node distance=2.5cm](sum2){} ;
    \node[squareblock, right of=sum2, node distance=2.5cm] (block3) {$\frac{1}{Js+B}$};
    \node[roundblock, below of=block3, label=above:{},node distance=1.4cm] (block4) {$B$};
    \node[input, below of=block2,node distance=2.3cm](input2){};
    \node[output, right of=block3,node distance=3.0cm] (output1) {};
    %Draw lines
    \draw[->](input1) -- node[near start]{$x_{d}$} (block1);
    \draw[->](block1) -- node[pos=0.3]{$r$} node[pos=0.9]{$+$} (sum1);
    \draw[->](sum1) -- node{$e_{r}$} (block2);
    \draw[->](block2) -- node[near end]{$+$} (sum2);
    \draw[->](sum2) -- node{$u$} (block3);
    \draw[->](block3) -- node[name=y]{} node[pos=0.9]{$x$} (output1);
    \draw[-](y) |- (block4);
    \draw[->](block4) -| node[pos=0.9]{$+$} (sum2);
    \draw[-](y) |- (input2);
    \draw[->](input2) -| node[pos=0.95]{$-$} (sum1);
    %Model box
    \path (sum1 |- sum1)+(-0.8,0.9) node (c) {};
    \path (y -| y)+(0.5,-2.8) node (d) {};
    \path[draw, dashed] (c) rectangle (d);
    \node[above of=sum2, node distance = 1.2cm] {$W_{cl}(s)$};
  \end{tikzpicture}
\end{document}
